%LETTERS

%UPPERCASE
\newcommand{\sA}[0]{\mathscr{A}}
\newcommand{\cA}[0]{\mathcal{A}}
\newcommand{\A}[0]{\mathbb{A}}
\newcommand{\cB}[0]{\mathcal{B}}
\newcommand{\C}[0]{\mathbb{C}}
\newcommand{\sC}[0]{\mathcal{C}}%deprecated
\newcommand{\cC}[0]{\mathcal{C}}
\newcommand{\sD}[0]{\mathscr{D}}
\newcommand{\mD}[0]{\mathfrak D}
\newcommand{\cE}[0]{\mathscr{E}}%deprecated
\newcommand{\sE}[0]{\mathscr{E}}
\newcommand{\E}[0]{\mathbb{E}}
\newcommand{\EE}[0]{\mathop{\mathbb E}}
%\scalebox{1.25}{$\mathbb E$}}
\newcommand{\F}[0]{\mathbb{F}}
\newcommand{\cF}[0]{\mathscr{F}}%deprecated.
\newcommand{\sF}[0]{\mathscr{F}}
\newcommand{\G}[0]{\mathbb{G}}
\newcommand{\cG}[0]{\mathscr{G}}%deprecated.
\newcommand{\sG}[0]{\mathscr{G}}
\newcommand{\cH}[0]{\mathscr H}%deprecated
\newcommand{\sH}[0]{\mathscr H}
\newcommand{\Hq}[0]{\mathbb{H}}
\newcommand{\bfI}[0]{\mathbf{I}}
\newcommand{\I}[0]{\mathbb{I}}
\newcommand{\cI}[0]{\mathscr{I}}%deprecated
\newcommand{\sI}[0]{\mathscr{I}}
\newcommand{\cJ}[0]{\mathscr{J}}
\newcommand{\cL}[0]{\mathscr{L}}
\newcommand{\N}[0]{\mathbb{N}}
\newcommand{\fN}[0]{\mathfrak{N}}
\newcommand{\cP}[0]{\mathcal{P}}
\newcommand{\Pj}[0]{\mathbb{P}}
\newcommand{\mP}[0]{\mathfrak{P}}
\newcommand{\mQ}[0]{\mathfrak{Q}}
%!
\newcommand{\cO}[0]{\mathcal{O}}
\newcommand{\sO}[0]{\mathscr{O}}
\newcommand{\Q}[0]{\mathbb{Q}}
\newcommand{\R}[0]{\mathbb{R}}
\newcommand{\bS}[0]{\mathbb{S}}
\newcommand{\T}[0]{\mathbb{T}}
\newcommand{\X}[0]{\mathfrak{X}}
\newcommand{\Z}[0]{\mathbb{Z}}
\newcommand{\one}[0]{\mathbbm{1}}
%lowercase
\newcommand{\mba}[0]{\mathbf{a}}%idele a
\newcommand{\ma}[0]{\mathfrak{a}}%ideal a
\newcommand{\mb}[0]{\mathfrak{b}}
\newcommand{\mc}[0]{\mathfrak{c}}
\newcommand{\mfd}[0]{\mathfrak d}
\newcommand{\mf}[0]{\mathfrak{f}}
\newcommand{\fg}[0]{\mathfrak{g}}
\newcommand{\vi}[0]{\mathbf{i}}%vector i
\newcommand{\vj}[0]{\mathbf{j}}
\newcommand{\vk}[0]{\mathbf{k}}
\newcommand{\mm}[0]{\mathfrak{m}}%ideal m
\newcommand{\mfp}[0]{\mathfrak{p}}
\newcommand{\mq}[0]{\mathfrak{q}}
\newcommand{\mr}[0]{\mathfrak{r}}
\newcommand{\mv}[0]{\mathbf{v}}
\newcommand{\mx}[0]{\mathbf{x}}%idele x
\newcommand{\my}[0]{\mathbf{y}}
%More sequences of letters
\newcommand{\et}[0]{_{\text{\'et}}}
\newcommand{\Gm}[0]{\mathbb{G}_m}
\newcommand{\Fp}[0]{\mathbb{F}_p}
\newcommand{\fq}[0]{\mathbb{F}_q}
\newcommand{\fpb}[0]{\ol{\mathbb{F}_p}}
\newcommand{\fpt}[0]{\mathbb{F}_p^{\times}}
\newcommand{\fqt}[0]{\mathbb{F}_q^{\times}}
\newcommand{\Kt}[0]{K^{\times}}
\newcommand{\RP}[0]{\mathbb{R}P}
\newcommand{\qb}[0]{\ol{\mathbb{Q}}}
\newcommand{\qp}[0]{\mathbb{Q}_p}
\newcommand{\qpb}[0]{\ol{\mathbb{Q}_p}}
\newcommand{\ql}[0]{\mathbb Q_{\ell}}
\newcommand{\sll}[0]{\mathfrak{sl}}
\newcommand{\vl}[0]{V_{\ell}}
\newcommand{\zl}[0]{\mathbb Z_{\ell}}
\newcommand{\zp}[0]{\mathbb Z_{p}}
\newcommand{\zpz}[0]{\mathbb Z/p\mathbb Z}
%Shortcuts for greek letters
\newcommand{\al}[0]{\alpha}
\newcommand{\be}[0]{\beta}
\newcommand{\ga}[0]{\gamma}
\newcommand{\Ga}[0]{\Gamma}
\newcommand{\de}[0]{\delta}
\newcommand{\De}[0]{\Delta}
\newcommand{\ep}[0]{\varepsilon}
\newcommand{\eph}[0]{\frac{\varepsilon}{2}}
\newcommand{\ept}[0]{\frac{\varepsilon}{3}}
\newcommand{\ka}[0]{\kappa}
\newcommand{\la}[0]{\lambda}
\newcommand{\La}[0]{\Lambda}
\newcommand{\ph}[0]{\varphi}
\newcommand{\Ph}[0]{\Phi}
\newcommand{\rh}[0]{\rho}
\newcommand{\te}[0]{\theta}
\newcommand{\Te}[0]{\Theta}
\newcommand{\vte}[0]{\vartheta}
\newcommand{\om}[0]{\omega}
\newcommand{\Om}[0]{\Omega}
\newcommand{\si}[0]{\sigma}
\newcommand{\Si}[0]{\Sigma}
\newcommand{\ze}[0]{\zeta}

%SYMBOLS

%Shortcuts for symbols
\newcommand{\nin}[0]{\not\in}
\newcommand{\opl}[0]{\oplus}
\newcommand{\bigopl}[0]{\bigoplus}
\newcommand{\ot}[0]{\otimes}
\newcommand{\bigot}[0]{\bigotimes}
\newcommand{\sub}[0]{\subset}
\newcommand{\nsub}[0]{\not\subset}
\newcommand{\subeq}[0]{\subseteq}
\newcommand{\supeq}[0]{\supseteq}
\newcommand{\nsubeq}[0]{\not\subseteq}
\newcommand{\nsupeq}[0]{\not\supseteq}
\newcommand{\nequiv}[0]{\not\equiv}
\newcommand{\bs}[0]{\backslash}
\newcommand{\iy}[0]{\infty}
\newcommand{\no}[0]{\trianglelefteq}%normal subgroup
\newcommand{\qeq}[0]{\stackrel?=}
\newcommand{\subsim}[0]{\stackrel{\sub}{\sim}}
\newcommand{\supsim}[0]{\stackrel{\supset}{\sim}}
\newcommand{\na}[0]{\nabla}
\newcommand{\mcv}[0]{*_-}
\newcommand{\dlim}[0]{\varinjlim}
\newcommand{\ilim}[0]{\varprojlim}
\newcommand{\gle}[0]{\begin{array}{c}
\ge\\
\le
\end{array}}
\newcommand{\lge}[0]{\begin{array}{c}
\le\\
\ge
\end{array}}
%\stackrel{-}{*}}%minus convoluion.

%COMMON TIME-SAVERS

%Fractions
\newcommand{\rc}[1]{\frac{1}{#1}}
\newcommand{\prc}[1]{\pa{\rc{#1}}}
\newcommand{\ff}[2]{\left\lfloor\frac{#1}{#2}\right\rfloor}
\newcommand{\cf}[2]{\left\lceil\frac{#1}{#2}\rceil\rfloor}
\newcommand{\fc}[2]{\frac{#1}{#2}}
\newcommand{\sfc}[2]{\sqrt{\frac{#1}{#2}}}
\newcommand{\pf}[2]{\pa{\frac{#1}{#2}}}%Shortcut for fraction with parentheses
\DeclareRobustCommand{\stl}{\genfrac\{\}{0pt}{}}

\newcommand{\pd}[2]{\frac{\partial #1}{\partial #2}}%Partial derivatives
\newcommand{\dd}[2]{\frac{d #1}{d #2}}
\newcommand{\pdd}[1]{\frac{\partial}{\partial #1}}
\newcommand{\ddd}[1]{\frac{d}{d #1}}
\newcommand{\af}[2]{\ab{\fc{#1}{#2}}}
\newcommand{\ddt}[2]{\frac{d^2 #1}{d {#2}^2}}
\newcommand{\pdt}[2]{\frac{\partial^2 #1}{\partial {#2}^2}}
\newcommand{\pdxy}[3]{\frac{\partial^2 #1}{\partial {#2}\partial {#3}}}
\newcommand{\pl}[0]{\partial}
\newcommand{\nb}[0]{\nabla}
\newcommand{\onb}[0]{\ol{\nabla}}
\newcommand{\dy}{\,dy}
\newcommand{\dx}{\,dx}

%Arrows
\newcommand{\lar}[0]{\leftarrow}
\newcommand{\ra}[0]{\rightarrow}
\newcommand{\dra}[0]{\dashrightarrow}
\newcommand{\lra}[0]{\leftrightarrow}
\newcommand{\rra}[0]{\twoheadrightarrow}
\newcommand{\hra}[0]{\hookrightarrow}
\newcommand{\tra}[0]{\twoheadrightarrow}
\newcommand{\send}[0]{\mapsto}
\newcommand{\xra}[1]{\xrightarrow{#1}}
\newcommand{\xla}[1]{\xleftarrow{#1}}
\newcommand{\xhra}[1]{\xhookrightarrow{#1}}
\newcommand{\xlra}[1]{\xleftrightarrow{#1}}
\newcommand{\xrc}[0]{\xrightarrow{\cong}}
\renewcommand{\cir}[0]{\circlearrowright}
\newcommand{\cil}[0]{\circlearrowleft}

%Brackets
\newcommand{\ab}[1]{\left| {#1} \right|}
\newcommand{\an}[1]{\left\langle {#1}\right\rangle}
\newcommand{\ba}[1]{\left[ {#1} \right]}
\newcommand{\bc}[1]{\left\{ {#1} \right\}}
\newcommand{\bra}[1]{\langle{#1}|}
\newcommand{\braa}[1]{\langle\langle{#1}|}
\newcommand{\ce}[1]{\left\lceil {#1}\right\rceil}
\newcommand{\fl}[1]{\left\lfloor {#1}\right\rfloor}
\newcommand{\ro}[1]{\left\lfloor {#1}\right\rceil}
\newcommand{\ket}[1]{|{#1}\rangle}
\newcommand{\kett}[1]{|{#1}\rangle\rangle}
\newcommand{\bk}[2]{\langle{#1}|{#2}\rangle}
\newcommand{\braak}[2]{\langle\langle{#1}|{#2}\rangle\rangle}
\newcommand{\kbb}[1]{|{#1}\rangle\langle{#1}|}
\newcommand{\kb}[2]{|{#1}\rangle\langle{#2}|}
\newcommand{\kettb}[2]{|{#1}\rangle\rangle\langle\langle{#2}|}
\newcommand{\pa}[1]{\left( {#1} \right)}
\newcommand{\pat}[1]{\left( \text{#1} \right)}
\newcommand{\ve}[1]{\left\Vert {#1}\right\Vert}
\newcommand{\nv}[1]{\frac{#1}{\left\Vert {#1}\right\Vert}}
\newcommand{\nvl}[2]{\frac{#1}{\left\Vert {#1}\right\Vert_{#2}}}
\newcommand{\rb}[1]{\left.{#1}\right|}
\newcommand{\nl}[1]{\left\Vert #1 \right\Vert_{L^1}}
\newcommand{\ad}[0]{|\cdot|}
\newcommand{\ved}[0]{\ve{\cdot}}
\newcommand{\set}[2]{\left\{{#1}:{#2}\right\}}
\newcommand{\sett}[2]{\left\{\left.{#1}\right|{#2}\right\}}

%under and overlines, etc.
\newcommand{\ch}[1]{\check{#1}}
\newcommand{\dch}[1]{\check{\check{#1}}}
\newcommand{\olra}[1]{\overleftrightarrow{#1}}
\newcommand{\ol}[1]{\overline{#1}}
\newcommand{\ul}[1]{\underline{#1}}
\newcommand{\ub}[2]{\underbrace{#1}_{#2}}
\newcommand{\ora}[1]{\overrightarrow{#1}}
\newcommand{\ura}[1]{\underrightarrow{#1}}
\newcommand{\wt}[1]{\widetilde{#1}}
\newcommand{\wh}[1]{\widehat{#1}}

%other
\newcommand{\fp}[1]{^{\underline{#1}}}%Falling power
\newcommand{\rp}[1]{^{\overline{#1}}}
\newcommand{\pp}[1]{^{(#1)}}
\newcommand{\sh}[0]{^{\sharp}}
\newcommand{\ri}[0]{\ddagger}%replace this with rosati involution
\newcommand{\bit}[0]{\{0,1\}}

%TEXT
\newcommand{\btih}[1]{\text{ by the induction hypothesis{#1}}}
\newcommand{\bwoc}[0]{by way of contradiction}
\newcommand{\by}[1]{\text{by~(\ref{#1})}}
\newcommand{\idk}[0]{{\color{red}I don't know.} }
\newcommand{\ore}[0]{\text{ or }}
\newcommand{\wog}[0]{ without loss of generality }
\newcommand{\Wog}[0]{ Without loss of generality }
\newcommand{\step}[1]{\noindent{\underline{Step {#1}:}}}
\newcommand{\prt}[1]{\noindent{\underline{Part {#1}:}}}
\newcommand{\tfae}[0]{ the following are equivalent}
\newcommand{\fabfm}[0]{for all but finitely many }

%FUNCTIONS
%Functions, etc.
\newcommand{\Abs}{(\text{Ab}/S)}
\newcommand{\abk}{(\text{Ab}/k)}
\newcommand{\abc}{(\text{Ab}/\C)}
\newcommand{\Alb}{\operatorname{Alb}}
\newcommand{\Ann}{\operatorname{Ann}}
\newcommand{\Area}{\operatorname{Area}}
\newcommand{\amax}{\operatorname{argmax}}
\newcommand{\amin}{\operatorname{argmin}}
\newcommand{\Ass}{\operatorname{Ass}}
\newcommand{\Art}{\operatorname{Art}}
\newcommand{\Aut}{\operatorname{Aut}}
\newcommand{\avg}{\operatorname{avg}}
\newcommand{\bias}[0]{\operatorname{bias}}
\newcommand{\Binom}{\operatorname{Binom}}
\newcommand{\Bl}[0]{\operatorname{Bl}}
\newcommand{\Br}{\operatorname{Br}}
\newcommand{\chr}{\operatorname{char}}
\newcommand{\cis}{\operatorname{cis}}
\newcommand{\cl}{\operatorname{Cl}}
%\newcommand{\Cl}{C}%changed notation%this is confusing
\newcommand{\Cl}{\operatorname{Cl}}
\newcommand{\Coh}{\operatorname{Coh}}
\newcommand{\Coinf}[0]{\operatorname{Coinf}}
\newcommand{\Coind}[0]{\operatorname{Coind}}
\newcommand{\coker}{\operatorname{coker}}
\newcommand{\colim}{\operatorname{colim}}
\newcommand{\Comp}{\operatorname{Comp}}
\newcommand{\conv}{\operatorname{conv}}
\newcommand{\oconv}{\ol{\conv}}
\newcommand{\Cor}{\operatorname{Cor}}
\newcommand{\Cov}{\operatorname{Cov}}
\newcommand{\cro}{\operatorname{cr}}
\newcommand{\degs}[0]{\deg_{\text{s}}}%separable degree
\newcommand{\Dec}{\operatorname{Dec}}
\newcommand{\depth}{\operatorname{depth}}
\newcommand{\Der}{\operatorname{Der}}
\newcommand{\diag}{\operatorname{diag}}
\newcommand{\diam}{\operatorname{diam}}
\renewcommand{\div}{\operatorname{div}}
\newcommand{\Dir}{\operatorname{Dir}}
\newcommand{\Div}{\operatorname{Div}}
\newcommand{\Disc}{\operatorname{Disc}}%discrepancy
\newcommand{\disc}{\operatorname{disc}}%discriminant
\newcommand{\dom}{\operatorname{dom}}
\newcommand{\Ell}{\mathcal{E}{\rm{ll}}}
\newcommand{\Enc}{\operatorname{Enc}}
\newcommand{\End}{\operatorname{End}}
\newcommand{\Ent}{\operatorname{Ent}}
\newcommand{\Ext}{\operatorname{Ext}}
\newcommand{\Exp}{\operatorname{Exp}}
\newcommand{\err}{\operatorname{err}}
\newcommand{\ess}{\operatorname{ess}}
\newcommand{\ext}{\operatorname{ext}}
\newcommand{\pfcg}{(p\text{-FCGp}/k)}
\newcommand{\fcg}{(\text{FCGp}/k)}
\newcommand{\Frac}{\operatorname{Frac}}
\newcommand{\Frob}{\operatorname{Frob}}
\newcommand{\Fun}{\operatorname{Fun}}
\newcommand{\FS}{\operatorname{FS}}
\newcommand{\Gal}{\operatorname{Gal}}
\newcommand{\grad}{\operatorname{grad}}
\newcommand{\GL}{\operatorname{GL}}
\newcommand{\gps}{(\text{Gp}/S)}
\newcommand{\Hess}{\operatorname{Hess}}
\newcommand{\Het}{H_{\text{\'et}}}
\newcommand{\Hom}{\operatorname{Hom}}
\newcommand{\Homeo}{\operatorname{Homeo}}
\newcommand{\chom}[0]{\mathscr{H}om}
\newcommand{\Homc}{\operatorname{Hom}_{\text{cont}}}
\newcommand{\id}{\mathrm{id}}
\newcommand{\Id}{\operatorname{Id}}
\newcommand{\im}[0]{\text{im}}
\newcommand{\imp}[0]{\im^{\text{pre}}}
\newcommand{\Ind}[0]{\operatorname{Ind}}
\newcommand{\Inf}[0]{\operatorname{Inf}}
\newcommand{\inv}[0]{\operatorname{inv}}
\newcommand{\Isoc}[0]{\operatorname{Isoc}}
\newcommand{\Isog}[0]{\operatorname{Isog}}
\newcommand{\Isom}[0]{\operatorname{Isom}}
\newcommand{\Jac}[0]{\operatorname{Jac}}
\newcommand{\li}[0]{\operatorname{li}}
\newcommand{\Li}[0]{\operatorname{li}}
\newcommand{\Lie}[0]{\operatorname{Lie}}
\newcommand{\Line}[0]{\operatorname{Line}}
\newcommand{\Lip}[0]{\operatorname{Lip}}
\newcommand{\lcm}[0]{\operatorname{lcm}}
\newcommand{\Mat}{\operatorname{Mat}}
\newcommand{\Mod}{\operatorname{Mod}}
\newcommand{\Dmod}{\Mod_{W[F,V]}^{\text{fl}}}
\newcommand{\nil}[0]{\operatorname{nil}}
\newcommand{\nm}{\operatorname{Nm}}
\newcommand{\NS}{\operatorname{NS}}
\newcommand{\ord}{\operatorname{ord}}
\newcommand{\PDer}{\operatorname{PDer}}
\newcommand{\PGL}{\operatorname{PGL}}
\newcommand{\Pic}{\operatorname{Pic}}
\newcommand{\Pico}{\operatorname{Pic}^{\circ}}
\newcommand{\Pois}{\operatorname{Pois}}
\newcommand{\poly}{\operatorname{poly}}
\newcommand{\polylog}{\operatorname{polylog}}
\newcommand{\PSL}{\operatorname{PSL}}
\newcommand{\Per}{\operatorname{Per}}
\newcommand{\perm}{\operatorname{perm}}
\newcommand{\PrePer}{\operatorname{PrePer}}
\newcommand{\Prob}{\operatorname{Prob}}
\newcommand{\Proj}{\operatorname{Proj}}
\newcommand{\Prj}[0]{\textbf{Proj}}
\newcommand{\QCoh}{\operatorname{QCoh}}
\newcommand{\Rad}{\operatorname{Rad}}
\newcommand{\range}{\operatorname{range}}
\newcommand{\rank}{\operatorname{rank}}
\newcommand{\red}{\operatorname{red}}
\newcommand{\Reg}{\operatorname{Reg}}
\newcommand{\Res}{\operatorname{Res}}
\newcommand{\Ric}{\operatorname{Ric}} %Ricci curvature
\newcommand{\rot}{\operatorname{rot}}
\newcommand{\Scal}{\operatorname{Scal}} %Ricci curvature
\newcommand{\schs}{(\text{Sch}/S)}
\newcommand{\schk}{(\text{Sch}/k)}
\newcommand{\se}{\text{se}}
\newcommand{\srank}{\text{srank}}
\newcommand{\hse}{\wh{\text{se}}}
\newcommand{\Sel}{\operatorname{Sel}}
\newcommand{\sens}{\operatorname{sens}}
\newcommand{\Set}{(\text{Set})}
\newcommand{\sgn}{\operatorname{sign}}
\newcommand{\sign}{\operatorname{sign}}
\newcommand{\SL}{\operatorname{SL}}
\newcommand{\SO}{\operatorname{SO}}
\newcommand{\Spec}{\operatorname{Spec}}
\newcommand{\Specf}[2]{\Spec\pa{\frac{k[{#1}]}{#2}}}
\newcommand{\rspec}{\ul{\operatorname{Spec}}}
\newcommand{\Spl}{\operatorname{Spl}}
\newcommand{\spp}{\operatorname{sp}}
\newcommand{\spn}{\operatorname{span}}
\newcommand{\Stab}{\operatorname{Stab}}
\newcommand{\SU}{\operatorname{SU}}
\newcommand{\Supp}{\operatorname{Supp}}
\newcommand{\ssupp}{\operatorname{sing}\operatorname{supp}}
\newcommand{\Sym}{\operatorname{Sym}}
\newcommand{\Th}{\operatorname{Th}}
\newcommand{\Tor}{\operatorname{Tor}}
\newcommand{\tor}{\operatorname{tor}}
\newcommand{\Tr}[0]{\operatorname{Tr}}
\newcommand{\tr}[0]{\operatorname{tr}}
\newcommand{\val}[0]{\text{val}}
\newcommand{\Var}[0]{\operatorname{Var}}
\newcommand{\var}[0]{\text{var}}
\newcommand{\vcong}{\operatorname{vcong}}
\newcommand{\Vol}[0]{\text{Vol}}
\newcommand{\vol}[0]{\text{vol}}
\providecommand{\cal}[1]{\mathcal{#1}}
\renewcommand{\cal}[1]{\mathcal{#1}}
\providecommand{\bb}[1]{\mathbb{#1}}
\renewcommand{\bb}[1]{\mathbb{#1}}

%Text super/subscripts
\newcommand{\abe}[0]{^{\text{ab}}}
\newcommand{\gal}[0]{^{\text{gal}}}%galois closure
\newcommand{\op}{^{\text{op}}}
\newcommand{\pre}[0]{^{\text{pre}}}
\newcommand{\rd}[0]{_{\text{red}}}
\newcommand{\sep}[0]{^{\text{sep}}}
\newcommand{\tp}{^{\text{top}}}
\newcommand{\tors}{_{\text{tors}}}
\newcommand{\ur}[0]{^{\text{ur}}}
\newcommand{\urt}[0]{^{\text{ur}\times}}

%COMMUTATIVE DIAGRAMS

%Commutative diagram shortcuts
\newcommand{\commsq}[8]{\xymatrix{#1\ar[r]^-{#6}\ar[d]_{#5} &#2\ar[d]^{#7} \\ #3 \ar[r]^-{#8} & #4}}
%Makes a diagram like this
%1->2
%|    |
%3->4
%Arguments 5, 6, 7, 8 on arrows
%  6
%5  7
%  8
\newcommand{\pull}[9]{
#1\ar@/_/[ddr]_{#2} \ar@{.>}[rd]^{#3} \ar@/^/[rrd]^{#4} & &\\
& #5\ar[r]^{#6}\ar[d]^{#8} &#7\ar[d]^{#9} \\}
\newcommand{\back}[3]{& #1 \ar[r]^{#2} & #3}
%Syntax:\pull 123456789 \back ABC
%1=upper left-hand corner
%2,3,4=arrows from upper LH corner, going down, diagonal, right
%5,6,7=top row (6 on arrow)
%8,9=middle rows (on arrows)
%A,B,C=bottom row
%composition
\newcommand{\cmp}[9]{
\xymatrix{
#1 \ar[r]^{#4}{#5} \ar@/_2pc/[rr]^{#8}_{#9} & #2 \ar[r]^{#6}_{#7} & #3
}
}
\newcommand{\ctr}[9]{
\xymatrix{
#1 \ar[rr]^{#4}_{#5}\ar[rd]^{#6}_{#7} && #2\ar[ld]_{#8}^{#9}\\
& #3 &
}
}
\newcommand{\ctrr}[9]{
\xymatrix{
#1 \ar[rr]^{#4}_{#5} && #2\\
& #3 \ar[lu]_{#6}^{#7}\ar[ru]_{#8}^{#9}&
}
}

\newcommand{\ctri}[9]{
\xymatrix{
#1 \ar[rr]^{#4}_{#5}\ar[rd]^{#6}_{#7} && #2\\
& #3 \ar[ru]^{#8}_{#9}&
}
}
\newcommand{\rcommsq}[8]{\xymatrix{#1 &#2\ar[l]_-{#6} \\ #3 \ar[u]^{#5} & #4 \ar[u]_{#7}\ar[l]_-{#8}}}


%Arrow shortcuts
\newcommand{\ha}[1]{\ar@{^(->}[#1]}
\newcommand{\ls}[1]{\ar@{-}[#1]}
\newcommand{\sj}[1]{\ar@{->>}[#1]}
\newcommand{\aq}[1]{\ar@{=}[#1]}
\newcommand{\acir}[1]{\ar@{}[#1]|-{\textstyle{\circlearrowright}}}
\newcommand{\acil}[1]{\ar@{}[#1]|-{\textstyle{\circlearrowleft}}}
\newcommand{\ard}[1]{\ar@{.>}[#1]}
\newcommand{\mt}[1]{\ar@{|->}[#1]}
\newcommand{\inm}[1]{\ar@{}[#1]|-{\in}}
\newcommand{\inr}{\ar@{}[d]|-{\rotatebox[origin=c]{-90}{$\in$}}}
\newcommand{\inl}{\ar@{}[u]|-{\rotatebox[origin=c]{90}{$\in$}}}

%Other
%\newcommand{\set}[2]{\left.\left\{{#1}\right|{#2}\right\}}
%\newcommand{\sett}[2]{\left\{{#1}\left|{#2}\right\}\right.}

%SUMS, ETC.
\newcommand{\sumr}[2]{\sum_{\scriptsize \begin{array}{c}{#1}\\{#2}\end{array}}}%sum with 2 rows
\newcommand{\prr}[2]{\prod_{\scriptsize \begin{array}{c}{#1}\\{#2}\end{array}}}%product with 2 rows
\newcommand{\maxr}[2]{\max_{\scriptsize \begin{array}{c}{#1}\\{#2}\end{array}}}%product with 2 rows
\newcommand{\minr}[2]{\min_{\scriptsize \begin{array}{c}{#1}\\{#2}\end{array}}}%product with 2 rows
\newcommand{\trow}[2]{\scriptsize \begin{array}{c}{#1}\\{#2}\end{array}}
\newcommand{\seqo}[3]{\{#3\}_{#1=1}^{#2}}
\newcommand{\seqos}[3]{\{#3_#1\}_{#1=1}^{#2}}
\newcommand{\seqz}[3]{\{#3\}_{#1=0}^{#2}}
\newcommand{\seqzs}[3]{\{#3_#1\}_{#1=0}^{#2}}
\newcommand{\su}[0]{\sum_{n=0}^{\iy}}
\newcommand{\suo}[0]{\sum_{n=1}^{\iy}}
\newcommand{\sumo}[2]{\sum_{#1=1}^{#2}}
\newcommand{\sumz}[2]{\sum_{#1=0}^{#2}}
\newcommand{\prodo}[2]{\prod_{#1=1}^{#2}}
\newcommand{\prodz}[2]{\prod_{#1=0}^{#2}}
\newcommand{\oplo}[2]{\bigopl_{#1=1}^{#2}}
\newcommand{\cupo}[2]{\bigcup_{#1=1}^{#2}}
\newcommand{\capo}[2]{\bigcap_{#1=1}^{#2}}
\newcommand{\iiy}[0]{\int_0^{\infty}}
\newcommand{\iny}[0]{\int_{-\infty}^{\infty}}
\newcommand{\iiiy}[0]{\int_{-\infty}^{\infty}}%DEPRECATED
\newcommand{\sui}[0]{\sum_{i=1}^{n}}
\newcommand{\suiy}[0]{\sum_{i=1}^{\iy}}
\newcommand{\cui}[0]{\bigcup_{i=1}^n}
\newcommand{\suj}[0]{\sum_{j=1}^{n}}
\newcommand{\suij}[0]{\sum_{i,j}}
\newcommand{\limn}[0]{\lim_{n\to \infty}}

%MATRICES

%Matrices
\newcommand{\coltwo}[2]{
\begin{pmatrix}
{#1}\\
{#2}
\end{pmatrix}}
\newcommand{\colthree}[3]{
\begin{pmatrix}
{#1}\\
{#2}\\
{#3}
\end{pmatrix}
}
\newcommand{\colfour}[4]{
\begin{pmatrix}
{#1}\\
{#2}\\
{#3}\\
{#4}
\end{pmatrix}
}
\newcommand{\cth}[3]{
\begin{pmatrix}
{#1}\\
{#2}\\
{#3}
\end{pmatrix}
}
\newcommand{\detm}[4]{
\ab{
\begin{matrix}
{#1}&{#2}\\
{#3}&{#4}
\end{matrix}
}}
\newcommand{\sdetm}[4]{
\ab{
\begin{smallmatrix}
{#1}&{#2}\\
{#3}&{#4}
\end{smallmatrix}
}}
\newcommand{\matt}[4]{
\begin{pmatrix}
{#1}&{#2}\\
{#3}&{#4}
\end{pmatrix}
}
\newcommand{\smatt}[4]{
\left(\begin{smallmatrix} 
{#1}&{#2}\\
{#3}&{#4}
\end{smallmatrix}\right)
}
\newcommand{\mattn}[9]{
\begin{pmatrix}
{#1}&{#2}&{#3}\\
{#4}&{#5}&{#6}\\
{#7}&{#8}&{#9}
\end{pmatrix}
}

\newcommand{\bt}[2]{
\left\{\begin{matrix}
\text{#1}\\
\text{#2}
\end{matrix}
\right\}}
\newcommand{\bth}[3]{
\left\{\begin{matrix}
\text{#1}\\
\text{#2}\\
\text{#3}
\end{matrix}
\right\}}

\newcommand{\tcase}[4]{
\begin{cases}
#1 & #2\\
#3 & #4
\end{cases}}
\newcommand{\txcase}[4]{
\begin{cases}
#1 & \text{#2}\\
#3 & \text{#4}
\end{cases}}

\newcommand{\ifoth}[3]{
\begin{cases}
#1 & \text{if }#2\\
#3 & \text{otherwise}
\end{cases}}

%EQUATIONS
\newcommand{\beq}[1]{\begin{equation}\llabel{#1}}
\newcommand{\eeq}[0]{\end{equation}}
\newcommand{\bal}[0]{\begin{align*}}
\newcommand{\eal}[0]{\end{align*}}%this doesn't work; i don't know why
\newcommand{\ban}[0]{\begin{align}}
\newcommand{\ean}[0]{\end{align}}
\newcommand{\ig}[2]{\begin{center}\includegraphics[scale=#2]{#1}\end{center}}
\newcommand{\ign}[2]{\includegraphics[scale=#2]{#1}}

%COURSE-SPECIFIC

%measure theory, analysis
\newcommand{\am}[0]{(a.e., $\mu$)}
\newcommand{\ftla}[1]{\int e^{i\lambda\cdot x}{#1}\,d\lambda}
\newcommand{\lime}[0]{\lim_{\varepsilon\to 0}}

%number theory
\newcommand{\modt}[1]{\,(\text{mod}^{\times}\, {#1})}
\newcommand{\tl}[0]{T_{\ell}}
 %multiplicative subgroup
\newcommand{\zmod}[1]{\Z/{#1}\Z}
\newcommand{\md}[1]{\,(\text{mod }#1)}
\newcommand{\ks}[1]{K(\sqrt{#1})}
\newcommand{\ksq}[1]{K(\sqrt{#1})/K}
\newcommand{\nksq}[1]{\nm_{K(\sqrt{#1})/K}(K(\sqrt{#1})^{\times})}
\newcommand{\mpp}[0]{\mP/\mfp}

%manifolds
\newcommand{\cvd}[0]{\frac{D}{\partial t}}
\newcommand{\cvs}[0]{\frac{D}{\partial s}}
\newcommand{\np}[1]{\nabla_{\pd{}{#1}}}

%algebraic geometry
\newcommand{\av}[0]{A^{\vee}}


%arithmetic combinatorics
\newcommand{\Deq}[1]{\Delta^{\times}_{#1}}

%modular forms
\newcommand{\GLAi}[0]{\text{GL}_2(\mathbb A)_{\infty}}

%noise sensitivity part iii essay
\newcommand{\Dict}[0]{\operatorname{\mathsf{Dict}}}
\newcommand{\Maj}[0]{\operatorname{\mathsf{Maj}}}
\newcommand{\MAJ}[0]{\operatorname{\mathsf{Maj}}}
\newcommand{\Parity}[0]{\operatorname{\mathsf{Parity}}}
\newcommand{\Tribes}[0]{\operatorname{\mathsf{Tribes}}}
\newcommand{\Ns}[0]{\operatorname{NS}}
\newcommand{\DT}[0]{\operatorname{\mathsf{DT}}}
\newcommand{\DNF}[0]{\operatorname{\mathsf{DNF}}}
\newcommand{\CNF}[0]{\operatorname{\mathsf{CNF}}}
\newcommand{\Circuit}[0]{\operatorname{\mathsf{Circuit}}}
\newcommand{\Ac}[0]{\mathsf{AC}}
\newcommand{\EB}[0]{\text{EB}}
%comp complexity
%complexity theory
\newcommand{\ACC}[0]{\operatorname{\mathsf{ACC}}}
\newcommand{\BPP}[0]{\mathsf{BPP}}
\newcommand{\BPTIME}[0]{\operatorname{\mathsf{BPTIME}}}
\newcommand{\CLIQUE}[0]{\operatorname{\mathsf{CLIQUE}}}
\newcommand{\EXP}[0]{\mathsf{EXP}}
\newcommand{\NEXP}[0]{\mathsf{NEXP}}
\newcommand{\NC}[0]{\operatorname{\mathsf{NC}}}
\newcommand{\NP}[0]{\operatorname{\mathsf{NP}}}
\newcommand{\NTIME}[0]{\operatorname{\mathsf{NTIME}}}
\newcommand{\msP}[0]{\operatorname{\mathsf{P}}}
\newcommand{\PCP}[0]{\operatorname{\mathsf{PCP}}}
\newcommand{\SAT}[0]{\mathsf{SAT}}
\newcommand{\SUBEXP}[0]{\mathsf{SUBEXP}}
\newcommand{\TIME}[0]{\operatorname{\mathsf{TIME}}}
\newcommand{\zz}{\textcircled{Z}}
%statistics
\newcommand{\hten}[0]{\widehat{\theta_n}}

%EDITING HELP
%blu: key idea or concept. red: unresolved issue/question. 
\newcommand{\blu}[1]{{\color{blue}#1}}
\newcommand{\grn}[1]{{\color{green}#1}}
\newcommand{\redd}[1]{{\color{red}#1}}
\newcommand{\pur}[1]{{\color{purple}#1}}
\newcommand{\oge}[1]{{\color{orange}#1}}
\newcommand{\concept}[1]{#1}
%\newcommand{\fixme}[1]{{\color{red}#1}}
\newcommand{\cary}[1]{{\color{purple}#1}}%deprecated
%short for commentary
%\newcommand{\llabel}[1]{\label{#1}\text{\fixme{\tiny#1}}}
\newcommand{\nref}[1]{\ref{#1}}
%%%%%%%%%%%
%Use the above when working on the document, so labels will be displayed by their theorems, and you can write reminders to yourself. Switch to the below commands when publishing.
%%%%%%%%%%
\newcommand{\fixme}[1]{}
%\newcommand{\concept}[1]{{\color{blue}#1}}
\newcommand{\llabel}[1]{\label{#1}}
%%%%%%%%%%

\newcommand{\itag}[1]{\index{#1}[\##1]}
\newcommand{\ilbl}[1]{[#1]\index{#1}}
\newcommand{\iadd}[1]{\index{#1} #1}
\newcommand{\arxiv}[1]{\url{http://www.arxiv.org/abs/#1}}

%markup
\newcommand{\ivocab}[1]{\index{#1}\textbf{#1}}
\newcommand{\vocab}[1]{\textbf{#1}} %also index automatically.
\newcommand{\summq}[1]{\textbf{Summary Question: }#1}
\newcommand{\keypt}[1]{{\it #1}}
\newcommand{\subprob}[1]{\noindent\textbf{#1}\\}
\newcommand{\qatable}[1]{\begin{center}
    \begin{longtable}{ | p{5.5cm} | p{10cm} |}
#1
\end{longtable}
\end{center}}

%Page breaks in equations
\allowdisplaybreaks[2]

%SHA
\DeclareFontFamily{U}{wncy}{}
    \DeclareFontShape{U}{wncy}{m}{n}{<->wncyr10}{}
    \DeclareSymbolFont{mcy}{U}{wncy}{m}{n}
    \DeclareMathSymbol{\Sh}{\mathord}{mcy}{"58} 